<!DOCTYPE html>
<!--
  APP S·ªî THU CHI C√Å NH√ÇN
  VERSION: v1.1.0 (Merged UI/UX from old version)
  BUILD: 2026-02-02
  CHANGELOG v1.1.0:
  - Native date picker (iOS/Android compatible)
  - Gradient buttons design
  - Improved chip selection UX
  - Auto-hide messages
  - Loading states
-->
<html lang="vi">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>S·ªï thu chi c√° nh√¢n</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>

    <!-- Header -->
    <header>
        <div class="header-content">
            <h1>S·ªï thu chi c√° nh√¢n</h1>
            <div class="version" id="app-version"></div>
        </div>
    </header>

    <!-- Main Content -->
    <main id="main-content">
        <!-- HOME/CHI Screen -->
        <section id="chi-screen" class="screen active">
            <div class="last-trans" id="last-expense">ƒêang t·∫£i chi cu·ªëi‚Ä¶</div>
            <h3>Chi ti√™u</h3>

            <!-- Ng√†y ch·ªçn (Native Date Picker) -->
            <div class="date-row">
                <input type="date" id="chi-date" class="date-input" />
                <button type="button" class="btn-date-nav" id="chi-prev-day">&lt;</button>
                <button type="button" class="btn-date-nav" id="chi-next-day">&gt;</button>
            </div>

            <!-- Nh·∫≠p s·ªë ti·ªÅn -->
            <div class="input-row">
                <input id="chi-input" placeholder="Nh·∫≠p s·ªë (ngh√¨n)" type="number" inputmode="decimal" />
                <button type="button" id="add-temp" class="btn-add btn-chi">+</button>
            </div>

            <div class="stack-preview" id="chi-preview"></div>

            <!-- Xo√° -->
            <div class="button-group">
                <button type="button" id="clear-last" class="btn-secondary">Xo√° cu·ªëi</button>
                <button type="button" id="clear-all" class="btn-secondary">Xo√° h·∫øt</button>
            </div>

            <!-- M√¥ t·∫£ chi (chips + dropdown) -->
            <div class="chips-container" id="chi-chips"></div>
            <div class="input-row">
                <select id="chi-mota-select" class="select-input">
                    <option value="">Ch·ªçn m√¥ t·∫£ chi kh√°c</option>
                </select>
            </div>

            <!-- Ngu·ªìn ti·ªÅn -->
            <div class="input-row">
                <select id="nguon-tien-chi" class="select-input">
                    <option value="">Ch·ªçn ngu·ªìn ti·ªÅn</option>
                </select>
            </div>

            <div id="chi-message" class="status-message"></div>
            <button type="button" id="btn-add-chi" class="btn-submit btn-chi" disabled>Th√™m chi ti√™u</button>
        </section>

        <!-- THU Screen -->
        <section id="thu-screen" class="screen">
            <div class="last-trans" id="last-income">ƒêang t·∫£i thu cu·ªëi‚Ä¶</div>
            <h3>Thu nh·∫≠p</h3>

            <!-- Ng√†y ch·ªçn (Native Date Picker) -->
            <div class="date-row">
                <input type="date" id="thu-date" class="date-input" />
                <button type="button" class="btn-date-nav" id="thu-prev-day">&lt;</button>
                <button type="button" class="btn-date-nav" id="thu-next-day">&gt;</button>
            </div>

            <!-- Nh·∫≠p s·ªë ti·ªÅn (VNƒê ƒë·∫ßy ƒë·ªß) -->
            <div class="input-row">
                <input id="thu-input" placeholder="Nh·∫≠p s·ªë ti·ªÅn VNƒê" type="number" inputmode="decimal" />
            </div>

            <!-- M√¥ t·∫£ thu (chips + input) -->
            <div class="chips-container" id="thu-chips"></div>
            <div class="input-row">
                <input id="thu-mota-input" placeholder="M√¥ t·∫£ thu nh·∫≠p" class="text-input" />
                <button type="button" id="add-new-mota-thu" class="btn-secondary-sm">+ Th√™m</button>
            </div>

            <!-- Lo·∫°i thu (chips + input) -->
            <div class="chips-container" id="loai-thu-chips"></div>
            <div class="input-row">
                <input id="loai-thu-input" placeholder="Lo·∫°i thu (t·ª± do)" class="text-input" />
            </div>

            <!-- Ngu·ªìn ti·ªÅn -->
            <div class="input-row">
                <select id="nguon-tien-thu" class="select-input">
                    <option value="">Ch·ªçn ngu·ªìn ti·ªÅn</option>
                </select>
            </div>

            <div id="thu-message" class="status-message"></div>
            <button type="button" id="btn-add-thu" class="btn-submit btn-thu" disabled>Th√™m thu nh·∫≠p</button>
        </section>

        <!-- T·ªîNG K·∫æT Screen -->
        <section id="tk-screen" class="screen">
            <h3>T·ªïng k·∫øt</h3>
            <div id="tk-summary" class="summary-box">ƒêang t·∫£i...</div>

            <!-- Input s·ªë d∆∞ TT cho t·ª´ng ngu·ªìn -->
            <div id="tk-inputs"></div>

            <button type="button" id="btn-check-tk" class="btn-submit btn-primary" disabled>Ki·ªÉm tra</button>
            <div id="tk-result" class="result-box"></div>
            <div id="tk-detail-list"></div>
            <button type="button" id="btn-confirm-tk" class="btn-submit btn-success" disabled>X√°c nh·∫≠n t·ªïng k·∫øt</button>
        </section>

        <!-- SETTINGS Screen -->
        <section id="settings-screen" class="screen">
            <h3>C√†i ƒë·∫∑t</h3>

            <!-- Quick M√¥ t·∫£ Chi -->
            <div class="settings-section">
                <h4>M√¥ t·∫£ Chi th∆∞·ªùng d√πng (max 8)</h4>
                <div id="quick-chi-list" class="quick-list"></div>
                <button type="button" id="manage-quick-chi" class="btn-secondary">Qu·∫£n l√Ω</button>
            </div>

            <!-- Quick M√¥ t·∫£ Thu -->
            <div class="settings-section">
                <h4>M√¥ t·∫£ Thu th∆∞·ªùng d√πng (max 8)</h4>
                <div id="quick-thu-list" class="quick-list"></div>
                <button type="button" id="manage-quick-thu" class="btn-secondary">Qu·∫£n l√Ω</button>
            </div>

            <!-- Quick Lo·∫°i Thu -->
            <div class="settings-section">
                <h4>Lo·∫°i Thu th∆∞·ªùng d√πng (max 8)</h4>
                <div id="quick-loai-thu-list" class="quick-list"></div>
                <button type="button" id="manage-quick-loai-thu" class="btn-secondary">Qu·∫£n l√Ω</button>
            </div>

            <!-- C√†i ƒë·∫∑t chung -->
            <div class="settings-section">
                <h4>C√†i ƒë·∫∑t chung</h4>
                <label class="setting-item">
                    <span>Ch·∫ø ƒë·ªô t·ªëi</span>
                    <input type="checkbox" id="dark-mode" class="toggle-switch">
                </label>
                <button type="button" id="reset-settings" class="btn-danger">Reset c√†i ƒë·∫∑t</button>
            </div>
        </section>
    </main>

    <!-- Tab Bar (iOS style) -->
    <nav class="tab-bar">
        <button type="button" data-tab="chi-screen" class="tab-btn active">
            <span class="tab-icon">üí∏</span>
            <span class="tab-label">Chi</span>
        </button>
        <button type="button" data-tab="thu-screen" class="tab-btn">
            <span class="tab-icon">üí∞</span>
            <span class="tab-label">Thu</span>
        </button>
        <button type="button" data-tab="tk-screen" class="tab-btn">
            <span class="tab-icon">üìä</span>
            <span class="tab-label">T·ªïng k·∫øt</span>
        </button>
        <button type="button" data-tab="settings-screen" class="tab-btn">
            <span class="tab-icon">‚öôÔ∏è</span>
            <span class="tab-label">Settings</span>
        </button>
    </nav>

    <!-- Modal (cho th√™m m·ªõi, s·ª≠a chi) -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div id="modal-body"></div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>