<!DOCTYPE html>
<!--
  APP SỔ THU CHI CÁ NHÂN
  VERSION: v1.0.0 (Final based on MP)
  BUILD: 2026-02-02
  NOTE:
  - HTML lo layout + hook
  - Logic trong app.js
  - Style trong style.css
  - Phong cách iOS 26: tab bar, navigation, swipe gestures (sử dụng touch events đơn giản)
  - Chạy responsive trên iPhone/PC
  - SPA: sử dụng hash routing đơn giản cho tabs
-->
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Sổ thu chi cá nhân</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<!-- Header -->
<header>
  <div>Sổ thu chi cá nhân</div>
  <div class="version" id="app-version"></div>
</header>

<!-- Main Content -->
<main id="main-content">
  <!-- HOME/CHI Screen -->
  <section id="chi-screen" class="screen active">
    <div id="last-expense">Đang tải chi cuối…</div>
    <h3>Chi tiêu</h3>

    <!-- Ngày chọn -->
    <div class="row date-selector">
      <button id="prev-day">&lt;&lt;</button>
      <button id="current-day">Hôm nay (Chọn ngày)</button>
      <button id="next-day">&gt;&gt;</button>
    </div>

    <!-- Nhập số tiền -->
    <div class="row">
      <input id="chi-input" placeholder="Nhập số (nghìn)" type="number" />
      <button id="add-temp">+</button>
    </div>

    <div class="row" id="chi-preview"></div>

    <!-- Xoá -->
    <div class="row">
      <button id="clear-last">Xoá cuối</button>
      <button id="clear-all">Xoá hết</button>
    </div>

    <!-- Mô tả chi (chips + dropdown) -->
    <div class="row" id="chi-chips"></div>
    <div class="row">
      <select id="chi-mota-select">
        <option value="">Chọn mô tả chi khác</option>
      </select>
      <button id="add-new-mota-chi">+ Thêm mới</button>
    </div>

    <!-- Nguồn tiền -->
    <div class="row">
      <select id="nguon-tien-chi">
        <option value="">Chọn nguồn tiền</option>
      </select>
    </div>

    <button id="btn-add-chi" disabled>Thêm chi tiêu</button>
  </section>

  <!-- THU Screen -->
  <section id="thu-screen" class="screen">
    <div id="last-income">Đang tải thu cuối…</div>
    <h3>Thu nhập</h3>

    <!-- Ngày chọn (tương tự Chi) -->
    <div class="row date-selector">
      <button id="prev-day-thu">&lt;&lt;</button>
      <button id="current-day-thu">Hôm nay (Chọn ngày)</button>
      <button id="next-day-thu">&gt;&gt;</button>
    </div>

    <!-- Nhập số tiền (VNĐ đầy đủ) -->
    <div class="row">
      <input id="thu-input" placeholder="Nhập số tiền VNĐ" type="number" />
    </div>

    <!-- Mô tả thu (chips + dropdown) -->
    <div class="row" id="thu-chips"></div>
    <div class="row">
      <input id="thu-mota-input" placeholder="Mô tả thu nhập" />
      <button id="add-new-mota-thu">+ Thêm mới</button>
    </div>

    <!-- Loại thu (chips + input) -->
    <div class="row" id="loai-thu-chips"></div>
    <div class="row">
      <input id="loai-thu-input" placeholder="Loại thu (tự do)" />
    </div>

    <!-- Nguồn tiền -->
    <div class="row">
      <select id="nguon-tien-thu">
        <option value="">Chọn nguồn tiền</option>
      </select>
    </div>

    <button id="btn-add-thu" disabled>Thêm thu nhập</button>
  </section>

  <!-- TỔNG KẾT Screen -->
  <section id="tk-screen" class="screen">
    <h3>Tổng kết</h3>
    <div id="tk-summary">Đang tải...</div>

    <!-- Input số dư TT cho từng nguồn -->
    <div id="tk-inputs"></div>

    <button id="btn-check-tk" disabled>Kiểm tra</button>
    <div id="tk-result"></div>
    <div id="tk-detail-list"></div>
    <button id="btn-confirm-tk" disabled>Xác nhận tổng kết</button>
  </section>

  <!-- SETTINGS Screen -->
  <section id="settings-screen" class="screen">
    <h3>Cài đặt</h3>

    <!-- Quick Mô tả Chi -->
    <div class="section">
      <h4>Mô tả Chi thường dùng (max 8)</h4>
      <div id="quick-chi-list"></div>
      <button id="manage-quick-chi">Quản lý</button>
    </div>

    <!-- Quick Mô tả Thu -->
    <div class="section">
      <h4>Mô tả Thu thường dùng (max 8)</h4>
      <div id="quick-thu-list"></div>
      <button id="manage-quick-thu">Quản lý</button>
    </div>

    <!-- Quick Loại Thu -->
    <div class="section">
      <h4>Loại Thu thường dùng (max 8)</h4>
      <div id="quick-loai-thu-list"></div>
      <button id="manage-quick-loai-thu">Quản lý</button>
    </div>

    <!-- Cài đặt chung -->
    <div class="section">
      <h4>Cài đặt chung</h4>
      <label>Chế độ tối: <input type="checkbox" id="dark-mode"></label>
      <button id="reset-settings">Reset cài đặt</button>
    </div>
  </section>
</main>

<!-- Tab Bar (iOS style) -->
<nav class="tab-bar">
  <button data-tab="chi-screen">Chi</button>
  <button data-tab="thu-screen">Thu</button>
  <button data-tab="tk-screen">Tổng kết</button>
  <button data-tab="settings-screen">Settings</button>
</nav>

<!-- Modals (cho thêm mới, chọn ngày, sửa chi) -->
<div id="modal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <div id="modal-body"></div>
  </div>
</div>

<!-- Date Picker Modal -->
<div id="date-picker-modal" class="modal">
  <div class="modal-content">
    <span class="close-date">&times;</span>
    <input type="date" id="date-picker">
    <button id="confirm-date">Xác nhận</button>
  </div>
</div>

<script src="app.js"></script>
</body>
</html>