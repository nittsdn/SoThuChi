<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>S·ªï Thu Chi</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>

    <!-- ================= TOAST NOTIFICATION ================= -->
    <div id="toast" class="toast"></div>

    <!-- ================= LOADING SPINNER ================= -->
    <div id="loading" class="loading">
        <div class="spinner"></div>
    </div>

    <!-- ================= HEADER ================= -->
    <div class="header">
        <div class="header-top">
            <h1>S·ªï Thu Chi</h1>
            <button class="btn-header-toggle" id="header-toggle-btn">‚ñº</button>
        </div>
        <div class="header-notify" id="header-notify" style="margin-top:8px;font-size:15px;color:#007bff;font-weight:bold"></div>
        <div class="header-summary">
            <div class="balance-tag">S·ªë d∆∞ LT: 0</div>
        </div>
        <div class="header-details" id="header-details">
            <!-- Dynamic content from JS -->
        </div>
        <div class="version">v2.3.1700</div>
    </div>

    <!-- ================= CHI ================= -->
    <div class="card card-chi">
        <div class="card-header">
            <div class="card-title red-text">CHI</div>
            <button class="btn-settings-icon" id="chi-settings-btn">‚öôÔ∏è</button>
        </div>

        <div class="date-row">
            <button class="btn-square" id="chi-date-prev">&lt;</button>
            <div class="date-display-wrapper">
                <button class="btn-date-display" id="chi-date-display"></button>
                <input type="date" class="date-input-overlay" id="chi-date-input">
            </div>
            <button class="btn-square" id="chi-date-next">&gt;</button>
        </div>

        <div class="calc-row">
            <input class="calc-input" id="chi-input" type="number" step="0.000001" placeholder="VNƒê">
            <button class="btn-square btn-blue" id="chi-add">+</button>
            <button class="btn-square btn-delete" id="chi-clear">‚Üª</button>
        </div>

        <div class="chi-preview" id="chi-preview"></div>

        <div class="stack-display" id="chi-stack">Ch∆∞a c√≥ s·ªë</div>

        <div class="chip-grid" id="chi-chips"></div>

        <select class="input-std" id="chi-desc-dropdown">
            <option value="">-- M√¥ t·∫£ kh√°c --</option>
        </select>

        <select class="input-std" id="chi-source">
            <option value="">-- Ngu·ªìn ti·ªÅn --</option>
        </select>

        <button class="btn-submit btn-red" id="chi-submit" disabled>
            Th√™m chi
        </button>
    </div>

    <!-- ================= THU ================= -->
    <div class="card card-thu">
        <div class="card-header">
            <div class="card-title green-text">THU</div>
            <button class="btn-settings-icon" id="thu-settings-btn">‚öôÔ∏è</button>
        </div>

        <div class="date-row">
            <button class="btn-square" id="thu-date-prev">&lt;</button>
            <div class="date-display-wrapper">
                <button class="btn-date-display" id="thu-date-display"></button>
                <input type="date" class="date-input-overlay" id="thu-date-input">
            </div>
            <button class="btn-square" id="thu-date-next">&gt;</button>
        </div>

        <div class="calc-row">
          <input class="calc-input" id="thu-input" type="number" step="0.01" placeholder="VNƒê">
          <button class="btn-square btn-blue" id="thu-add">+</button>
          <button class="btn-square btn-delete" id="thu-clear">‚Üª</button>
        </div>

        <div class="stack-display" id="thu-display">Ch∆∞a c√≥ s·ªë</div>

        <div class="chip-grid" id="thu-chips"></div>

        <input class="input-std" id="thu-desc-input" placeholder="M√¥ t·∫£ thu">

        <select class="input-std" id="thu-loai">
            <option value="">-- Lo·∫°i thu --</option>
        </select>

        <select class="input-std" id="thu-source">
            <option value="">-- Ngu·ªìn ti·ªÅn --</option>
        </select>

        <button class="btn-submit btn-green" id="thu-submit" disabled>
            Th√™m thu
        </button>
    </div>

    <!-- ================= T·ªîNG K·∫æT ================= -->
    <div class="card">
        <div class="card-header">
            <div class="card-title blue-text">T·ªîNG K·∫æT</div>
        </div>

        <button class="btn-submit btn-blue" id="tk-start">L√†m t·ªïng k·∫øt</button>

        <div id="tk-form" style="display: none;">
            <div class="tk-period">Nh·∫≠p s·ªë d∆∞ th·ª±c t·∫ø:</div>
            <div id="tk-inputs"></div>
            <button class="btn-submit btn-gray" id="tk-check">Ki·ªÉm tra</button>
            <div id="tk-result" style="display: none;"></div>
            <button class="btn-submit btn-blue" id="tk-confirm" style="display: none;">X√°c nh·∫≠n t·ªïng k·∫øt</button>
        </div>
    </div>

    <!-- ================= MODAL POPUP FOR SETTINGS ================= -->
    <!-- CHI Settings Modal -->
    <div id="chi-settings-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3>‚öôÔ∏è C·∫•u h√¨nh CHI</h3>
                <div class="modal-header-actions">
                    <button class="btn-reset-settings" id="chi-modal-reset" title="Reset v·ªÅ m·∫∑c ƒë·ªãnh">‚Üª</button>
                    <button class="modal-close" id="chi-modal-close">&times;</button>
                </div>
            </div>

            <div class="modal-body">
                <div class="modal-section">
                    <h4>üìã Ch·ªçn 8 m√¥ t·∫£ hi·ªÉn th·ªã nhanh</h4>

                    <button type="button" class="dropdown-toggle" id="chi-dropdown-toggle">
                        <span class="dropdown-label">Ch·ªçn m√¥ t·∫£ (<span id="chi-dropdown-count">0</span>/8)</span>
                        <span class="dropdown-arrow">‚ñº</span>
                    </button>

                    <div class="dropdown-content" id="chi-dropdown-content">
                        <div class="checkbox-list" id="chi-modal-checkbox-list">
                            <!-- Dynamically populated -->
                        </div>
                    </div>
                </div>

                <div class="modal-section">
                    <h4>‚ûï Th√™m m√¥ t·∫£ chi m·ªõi</h4>
                    <input type="text" id="chi-modal-new-name" class="input-std" placeholder="T√™n m√¥ t·∫£ *">
                    <select id="chi-modal-new-phanloai" class="input-std">
                        <option value="">-- Ch·ªçn ph√¢n lo·∫°i *--</option>
                    </select>
                    <input type="text" id="chi-modal-new-note" class="input-std" placeholder="Ghi ch√∫ (optional)">
                    <button id="chi-modal-add-btn" class="btn-submit btn-blue" disabled>Th√™m</button>
                </div>
            </div>
        </div>
    </div>

    <!-- THU Settings Modal -->
    <div id="thu-settings-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3>‚öôÔ∏è C·∫•u h√¨nh THU</h3>
                <div class="modal-header-actions">
                    <button class="btn-reset-settings" id="thu-modal-reset" title="Reset v·ªÅ m·∫∑c ƒë·ªãnh">‚Üª</button>
                    <button class="modal-close" id="thu-modal-close">&times;</button>
                </div>
            </div>

            <div class="modal-body">
                <div class="modal-section">
                    <h4>üìã Ch·ªçn 8 m√¥ t·∫£ hi·ªÉn th·ªã nhanh</h4>

                    <button type="button" class="dropdown-toggle" id="thu-dropdown-toggle">
                        <span class="dropdown-label">Ch·ªçn m√¥ t·∫£ (<span id="thu-dropdown-count">0</span>/8)</span>
                        <span class="dropdown-arrow">‚ñº</span>
                    </button>

                    <div class="dropdown-content" id="thu-dropdown-content">
                        <div class="checkbox-list" id="thu-modal-checkbox-list">
                            <!-- Dynamically populated from Thu_2026 -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js?v=1610"></script>
</body>
</html>